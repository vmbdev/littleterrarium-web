@if (locationService.location$ | async; as location) {
  <div class="location">
    <lt-toolbox [title]="location.name">
      @if (locationService.isOwned()) {
        <lt-toolbox-button image="assets/edit.png" (click)="edit()" />
        <lt-toolbox-button image="assets/delete.png" (click)="openDeleteModal()" />
      }
    </lt-toolbox>

    <lt-info-box
      title="Location information"
      i18n-title="@@location.locationInformation"
    >

      <ng-container properties>
        <lt-property-box [icon]="locationService.getLightAsset(location.light)">
          {{ locationService.getLightName(location.light) }}
        </lt-property-box>

        <lt-property-box [icon]="getVisibilityAsset(location.public)">
          @if (location.public) {
            <span i18n="@@general.public">
              Public
            </span>
          } @else {
            <span i18n="@@general.private">
              Private
            </span>
          }
        </lt-property-box>

        <lt-property-box [icon]="getPlantsAsset(location._count?.plants)">
          @if (location._count?.plants; as count) {
            <span i18n="@@location.plants">{{ count }} plants</span>
          } @else {
            <span i18n="@@location.noPlants">No plants yet!</span>
          }
        </lt-property-box>
      </ng-container>

    </lt-info-box>

    <div class="section-header">
      <h2 i18n="@@location.plantList">Plants living in {{ location.name }}</h2>
    </div>
    <lt-plant-list [owned]="locationService.isOwned()" [locationId]="location.id" />
  </div>
}

<ng-template #deleteModal>
  <p i18n="@@location.remove">
    This will remove this location along with its plants and photos. Are you sure?
  </p>
  <p>
    <strong i18n="@@general.irreversible">
      This action is irreversible.
    </strong>
  </p>
</ng-template>