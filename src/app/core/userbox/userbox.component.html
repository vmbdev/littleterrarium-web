<div class="userbox" (mouseover)="enableMenu()" (mouseout)="disableMenu()" *ngIf="auth.user$ | async as user; else notSignedIn">
  <div class="userbox__user">
    <div class="userbox__avatar" [ngStyle]="{ 'background-image': 'url(' + (user.avatar ? user.avatar.thumb : '/assets/user.png') + ')' }"></div>
    <div class="userbox__link">
      Hi <b>{{ user.username }}</b>
    </div>
  </div>
  <div class="userbox__menu" [ngClass]="{ 'userbox__menu-hidden' : !menuVisible }">
    <div class="userbox__menulink">
      <a routerLink="/user/edit">Your profile</a>
    </div>
    <div class="userbox__menulink">
      <a routerLink="/logout">Log out</a>
    </div>
  </div>
</div>
<ng-template #notSignedIn>
  <div class="userbox__link">
    <a routerLink="/signin">Sign in</a>
  </div>
</ng-template>